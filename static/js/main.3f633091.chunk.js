(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){},113:function(e,t,n){e.exports=n(307)},118:function(e,t,n){},119:function(e,t,n){},305:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(108),s=n.n(r),o=(n(118),n(15)),l=n(16),c=n(18),u=n(17),m=n(19),d=(n(119),{aws_project_region:"us-east-1",aws_appsync_graphqlEndpoint:"https://za44xongffhsvep5zl6nrkox2m.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-yprnx5l7r5bmhlhkhdxex2bura"}),f=n(4),p=n.n(f),h=n(24),b=n(11),g=Object(b.a)(),_="query ListPatients(\n  $filter: ModelPatientFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listPatients(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    nextToken\n  }\n}\n",v=n(23),E=n(31),y=n.n(E),N=(n(105),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPatientSelect=function(e){n.setState({selectedPatient:e.target.innerText,id:e.target.id},function(){console.log("state1:",n.state),y()({title:n.state.selectedPatient,text:"Select measurements to modify:",buttons:{baseline:"Baseline Measurements",fourweek:"Four Week Measurements",csv:"Export Patient CSV",cancel:"Cancel"}}).then(function(e){switch(e){case"baseline":g.push("/form/".concat(n.state.id,"/init"));break;case"fourweek":g.push("/form/".concat(n.state.id,"/four"))}})})},n.state={loading:!1,patients:[],selectedPatient:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),f.API.graphql(Object(f.graphqlOperation)(_,{limit:1e3})).then(function(t){console.log(t),e.setState({patients:t.data.listPatients.items}),console.log(e.state.patients)})}},{key:"renderPatientList",value:function(){var e=this;return this.state.patients?this.state.patients.map(function(t){return i.a.createElement("div",{onClick:e.onPatientSelect,className:"item",key:t.id},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"header",id:t.id},t.anonId))}):i.a.createElement("div",{className:"ui segment",style:{height:"100vh"}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},"Loading...")))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"ui middle aligned selection divided list massive"},this.renderPatientList()),i.a.createElement("div",{className:"ui"},i.a.createElement("div",{className:"ui header",style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},i.a.createElement(v.a,{to:"/remove",className:"ui button large red"},i.a.createElement("i",{className:"icon minus circle"}),"Remove Patient"),i.a.createElement(v.a,{to:"/create",className:"ui button large primary"},i.a.createElement("i",{className:"icon plus circle"}),"Add Patient"))))}}]),t}(a.Component)),P=n(57),C=n.n(P),I=n(111),k=n(112),O="mutation CreatePatient($input: CreatePatientInput!) {\n  createPatient(input: $input) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",j="mutation DeletePatient($input: DeletePatientInput!) {\n  deletePatient(input: $input) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",x="mutation CreateMeasurement($input: CreateMeasurementInput!) {\n  createMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",S="mutation UpdateMeasurement($input: UpdateMeasurementInput!) {\n  updateMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",w="mutation DeleteMeasurement($input: DeleteMeasurementInput!) {\n  deleteMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",M=(n(305),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleMeasurements=function(e){0===e.length||n.setState({id:e[0].id,entryExisted:!0,abi_before:e[0].abi_before,abi_after:e[0].abi_after,nirs_before:e[0].nirs_before,nirs_after:e[0].nirs_after,endo_de:e[0].endo_de,endo_in:e[0].endo_in,nirs_gastroc_before:e[0].nirs_gastroc_before,nirs_gastroc_after:e[0].nirs_gastroc_after,notes:e[0].notes},function(){return console.log("active",n.state)})},n.onChange=function(e,t){n.setState(Object(k.a)({},t,e.target.value),function(){return console.log(t,":",n.state[t])})},n.onSubmission=function(e){e.preventDefault(),n.state.entryExisted?(f.API.graphql(Object(f.graphqlOperation)(S,{input:{id:n.state.id,type:n.state.type,abi_before:n.state.abi_before,abi_after:n.state.abi_after,nirs_before:n.state.nirs_before,nirs_after:n.state.nirs_after,endo_de:n.state.endo_de,endo_in:n.state.endo_in,nirs_gastroc_before:n.state.nirs_gastroc_before,nirs_gastroc_after:n.state.nirs_gastroc_after,notes:n.state.notes}})).then(function(e){console.log("res:",e)}).catch(function(e){console.log("err:",e)}),g.push("/")):(f.API.graphql(Object(f.graphqlOperation)(x,{input:{measurementPatientId:n.state.id,type:n.state.type,abi_before:n.state.abi_before,abi_after:n.state.abi_after,nirs_before:n.state.nirs_before,nirs_after:n.state.nirs_after,endo_de:n.state.endo_de,endo_in:n.state.endo_in,nirs_gastroc_before:n.state.nirs_gastroc_before,nirs_gastroc_after:n.state.nirs_gastroc_after,notes:n.state.notes}})).then(function(e){console.log("res(create):",e)}).catch(function(e){console.log("err(create):",e)}),g.push("/"))},n.state={activeMeasurements:"",id:null,type:"",entryExisted:!1,loading:!1,patient:"",abi_before:null,abi_after:null,nirs_before:null,nirs_after:null,endo_de:null,endo_in:null,nirs_gastroc_before:null,nirs_gastroc_after:null,notes:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(C.a.mark(function e(){var t,n=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,id:this.props.match.params.id}),"init"===this.props.match.params.type?this.setState({type:"Initial"}):"four"===this.props.match.params.type&&this.setState({type:"FourWeek"}),e.next=4,f.API.graphql(Object(f.graphqlOperation)("query GetPatient($id: ID!) {\n  getPatient(id: $id) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",{id:this.props.match.params.id})).then(function(e){n.setState({activeMeasurements:e.data.getPatient.measurements.items,loading:!1,patient:e.data.getPatient.anonId})});case 4:t=this.state.activeMeasurements.filter(function(e){return e.type===n.state.type}),console.log("mez",t),this.handleMeasurements(t),console.log("props:",this.state.type);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAnonId",value:function(){return this.state.patient?i.a.createElement("h3",null,this.state.patient):i.a.createElement("h5",null,"Loading Patient...")}},{key:"inputRender",value:function(){var e=this;return this.state.abi_before?i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")},value:this.state.abi_before}))):i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")}})))}},{key:"renderHeader",value:function(){return this.state.patient?i.a.createElement(a.Fragment,null,i.a.createElement(v.a,{to:"/",className:"ui button"},i.a.createElement("i",{className:"icon chevron left"}),"Return to List"),i.a.createElement("div",{className:"ui small center aligned header",style:{margin:0}},"Patient: ",this.getAnonId())):i.a.createElement("div",{className:"ui active dimmer inverted",style:{width:"auto",margin:"0 50%",height:"10vh",background:"rgba(0,0,0,0)"}},i.a.createElement("div",{className:"ui text loader"}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ui container"},i.a.createElement("div",{className:"ui block header",style:{height:"10vh",display:"flex",justifyContent:"space-around",alignItems:"center"}},this.renderHeader()),i.a.createElement("form",{className:"ui form",onSubmit:this.onSubmission},i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Patient ID",i.a.createElement("input",{type:"text",disabled:!0,value:this.state.patient,onChange:this.onChange}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")},defaultValue:this.state.abi_before}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (After)",i.a.createElement("input",{defaultValue:this.state.abi_after,type:"number",onChange:function(t){e.onChange(t,"abi_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS (Before)",i.a.createElement("input",{defaultValue:this.state.nirs_before,type:"number",onChange:function(t){e.onChange(t,"nirs_before")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS (After)",i.a.createElement("input",{type:"number",defaultValue:this.state.nirs_after,onChange:function(t){e.onChange(t,"nirs_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Endothelium Dependent FMD",i.a.createElement("input",{defaultValue:this.state.endo_de,type:"number",onChange:function(t){e.onChange(t,"endo_de")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Endothelium Independent FMD",i.a.createElement("input",{defaultValue:this.state.endo_in,type:"number",onChange:function(t){e.onChange(t,"endo_in")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS Gastroc Soleus (Before)",i.a.createElement("input",{defaultValue:this.state.nirs_gastroc_before,type:"number",onChange:function(t){e.onChange(t,"nirs_gastroc_before")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS Gastroc Soleus (After)",i.a.createElement("input",{defaultValue:this.state.nirs_gastroc_after,type:"number",onChange:function(t){e.onChange(t,"nirs_gastroc_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Notes",i.a.createElement("input",{defaultValue:this.state.notes,type:"text",onChange:function(t){e.onChange(t,"notes")}}))),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.onSubmission,className:"ui button large primary",style:{marginBottom:"2rem"}},"Save and Return")))}}]),t}(a.Component)),A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState({patient:e.target.value},function(){return console.log(n.state.patient)})},n.onSubmission=function(e){e.preventDefault(),f.API.graphql(Object(f.graphqlOperation)(O,{input:{anonId:n.state.patient}})).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),g.push("/")},n.state={loading:!1,patient:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ui raised very padded text container segment",style:{height:"40vh",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",marginTop:"2rem"}},i.a.createElement("form",{onSubmit:this.onSubmission,className:"ui form"},i.a.createElement("div",{className:"ui input field huge"},i.a.createElement("label",null,"Patient Name",i.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)}})))),i.a.createElement("div",{className:"ui two column grid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement("button",{onClick:function(){return g.push("/")},className:"ui button huge"},"Discard")),i.a.createElement("div",{className:"column"},i.a.createElement("button",{onClick:this.onSubmission,className:"ui button huge green"},"Submit")))))}}]),t}(a.Component),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPatientSelect=function(e){n.setState({selectedPatient:e.target.innerText,id:e.target.id},function(){console.log(n.state);var e=n.state.patients.filter(function(e){return e.anonId===n.state.selectedPatient});y()({title:"Delete "+n.state.selectedPatient+"?",text:"This cannot be undone.",icon:"warning",buttons:{danger:"Yes",cancel:"No"},dangerMode:!0}).then(function(t){t&&(y()("Patient record deleted!",{icon:"success"}),f.API.graphql(Object(f.graphqlOperation)(j,{input:{id:e[0].id}})).then(function(e){return console.log("res",e)}).catch(function(e){return console.log("err",e)}),f.API.graphql(Object(f.graphqlOperation)(w,{input:{id:n.state.selectedPatient}})).then(function(e){return console.log("res",e)}).catch(function(e){return console.log("err",e)}),g.push("/"))})})},n.state={loading:!1,patients:[],selectedPatient:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),f.API.graphql(Object(f.graphqlOperation)(_)).then(function(t){e.setState({patients:t.data.listPatients.items}),console.log(e.state.patients)})}},{key:"renderRemovePatient",value:function(){var e=this;return this.state.patients?this.state.patients.map(function(t){return i.a.createElement("div",{onClick:e.onPatientSelect,className:"item"},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"header",key:t.id,id:t.id},t.anonId))}):i.a.createElement("div",{className:"ui segment",style:{height:"100vh"}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},"Loading...")))}},{key:"render",value:function(){return i.a.createElement("div",{style:{paddingTop:"2rem"}},i.a.createElement("div",{className:"ui"},i.a.createElement("div",{className:"ui header",style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},i.a.createElement(v.a,{to:"/",className:"ui button large"},i.a.createElement("i",{className:"icon chevron left"}),"Return to List"),i.a.createElement("h2",{style:{margin:0}},"Delete a Patient"))),i.a.createElement("div",{className:"ui middle aligned selection divided list massive"},this.renderRemovePatient()))}}]),t}(a.Component);p.a.configure(d);var $=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={activePatient:{},activeMeasurement:{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(),i.a.createElement(h.b,{history:g,basename:"/pad-stat-track"},i.a.createElement("div",{className:"App"},i.a.createElement(h.a,{path:"/",exact:!0,component:N}),i.a.createElement(h.a,{path:"/form/:id/:type",component:M}),i.a.createElement(h.a,{path:"/create",component:A}),i.a.createElement(h.a,{path:"/remove",component:q})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},45:function(e,t){}},[[113,1,2]]]);
//# sourceMappingURL=main.3f633091.chunk.js.map