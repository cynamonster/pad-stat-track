(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){},158:function(e,t,n){e.exports=n(375)},163:function(e,t,n){},164:function(e,t,n){},344:function(e,t,n){},375:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(152),s=n.n(r),o=(n(163),n(22)),l=n(23),c=n(25),u=n(24),d=n(26),m=(n(164),n(31)),p=n(15),f=Object(p.a)(),h="query ListPatients(\n  $filter: ModelPatientFilterInput\n  $limit: Int\n  $nextToken: String\n) {\n  listPatients(filter: $filter, limit: $limit, nextToken: $nextToken) {\n    items {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    nextToken\n  }\n}\n",b=n(4),g=n.n(b),_=n(30),v=n(39),E=n.n(v),y=(n(123),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPatientSelect=function(e){n.setState({selectedPatient:e.target.innerText,id:e.target.id},function(){console.log("state1:",n.state),E()({title:n.state.selectedPatient,text:"Select measurements to modify:",buttons:{baseline:"Baseline Measurements",fourweek:"Four Week Measurements",csv:"Export Patient CSV",cancel:"Cancel"}}).then(function(e){switch(e){case"baseline":f.push("/pad-stat-track/form/".concat(n.state.id,"/init"));break;case"fourweek":f.push("/pad-stat-track/form/".concat(n.state.id,"/four"))}})})},n.state={loading:!1,patients:[],selectedPatient:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),b.API.graphql(Object(b.graphqlOperation)(h,{limit:1e3})).then(function(t){console.log(t),e.setState({patients:t.data.listPatients.items}),console.log(e.state.patients)})}},{key:"renderPatientList",value:function(){var e=this;return this.state.patients?this.state.patients.map(function(t){return i.a.createElement("div",{onClick:e.onPatientSelect,className:"item",key:t.id},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"header",id:t.id},t.anonId))}):i.a.createElement("div",{className:"ui segment",style:{height:"100vh"}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},"Loading...")))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"ui middle aligned selection divided list massive"},this.renderPatientList()),i.a.createElement("div",{className:"ui"},i.a.createElement("div",{className:"ui header",style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},i.a.createElement(_.a,{to:"/pad-stat-track/remove",className:"ui button large red"},i.a.createElement("i",{className:"icon minus circle"}),"Remove Patient"),i.a.createElement(_.a,{to:"/pad-stat-track/create",className:"ui button large primary"},i.a.createElement("i",{className:"icon plus circle"}),"Add Patient"))))}}]),t}(a.Component)),N=n(73),k=n.n(N),P=n(155),C=n(156),I="mutation CreatePatient($input: CreatePatientInput!) {\n  createPatient(input: $input) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",j="mutation DeletePatient($input: DeletePatientInput!) {\n  deletePatient(input: $input) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",O="mutation CreateMeasurement($input: CreateMeasurementInput!) {\n  createMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",x="mutation UpdateMeasurement($input: UpdateMeasurementInput!) {\n  updateMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",S="mutation DeleteMeasurement($input: DeleteMeasurementInput!) {\n  deleteMeasurement(input: $input) {\n    id\n    type\n    patient {\n      id\n      anonId\n      measurements {\n        nextToken\n      }\n    }\n    date\n    abi_before\n    abi_after\n    nirs_before\n    nirs_after\n    endo_de\n    endo_in\n    nirs_gastroc_before\n    nirs_gastroc_after\n    notes\n  }\n}\n",w=(n(344),function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleMeasurements=function(e){0===e.length||n.setState({id:e[0].id,entryExisted:!0,abi_before:e[0].abi_before,abi_after:e[0].abi_after,nirs_before:e[0].nirs_before,nirs_after:e[0].nirs_after,endo_de:e[0].endo_de,endo_in:e[0].endo_in,nirs_gastroc_before:e[0].nirs_gastroc_before,nirs_gastroc_after:e[0].nirs_gastroc_after,notes:e[0].notes},function(){return console.log("active",n.state)})},n.onChange=function(e,t){n.setState(Object(C.a)({},t,e.target.value),function(){return console.log(t,":",n.state[t])})},n.onSubmission=function(e){e.preventDefault(),n.state.entryExisted?(b.API.graphql(Object(b.graphqlOperation)(x,{input:{id:n.state.id,type:n.state.type,abi_before:n.state.abi_before,abi_after:n.state.abi_after,nirs_before:n.state.nirs_before,nirs_after:n.state.nirs_after,endo_de:n.state.endo_de,endo_in:n.state.endo_in,nirs_gastroc_before:n.state.nirs_gastroc_before,nirs_gastroc_after:n.state.nirs_gastroc_after,notes:n.state.notes}})).then(function(e){console.log("res:",e)}).catch(function(e){console.log("err:",e)}),f.push("/pad-stat-track/")):(b.API.graphql(Object(b.graphqlOperation)(O,{input:{measurementPatientId:n.state.id,type:n.state.type,abi_before:n.state.abi_before,abi_after:n.state.abi_after,nirs_before:n.state.nirs_before,nirs_after:n.state.nirs_after,endo_de:n.state.endo_de,endo_in:n.state.endo_in,nirs_gastroc_before:n.state.nirs_gastroc_before,nirs_gastroc_after:n.state.nirs_gastroc_after,notes:n.state.notes}})).then(function(e){console.log("res(create):",e)}).catch(function(e){console.log("err(create):",e)}),f.push("/pad-stat-track/"))},n.state={activeMeasurements:"",id:null,type:"",entryExisted:!1,loading:!1,patient:"",abi_before:null,abi_after:null,nirs_before:null,nirs_after:null,endo_de:null,endo_in:null,nirs_gastroc_before:null,nirs_gastroc_after:null,notes:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(k.a.mark(function e(){var t,n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,id:this.props.match.params.id}),"init"===this.props.match.params.type?this.setState({type:"Initial"}):"four"===this.props.match.params.type&&this.setState({type:"FourWeek"}),e.next=4,b.API.graphql(Object(b.graphqlOperation)("query GetPatient($id: ID!) {\n  getPatient(id: $id) {\n    id\n    anonId\n    measurements {\n      items {\n        id\n        type\n        date\n        abi_before\n        abi_after\n        nirs_before\n        nirs_after\n        endo_de\n        endo_in\n        nirs_gastroc_before\n        nirs_gastroc_after\n        notes\n      }\n      nextToken\n    }\n  }\n}\n",{id:this.props.match.params.id})).then(function(e){n.setState({activeMeasurements:e.data.getPatient.measurements.items,loading:!1,patient:e.data.getPatient.anonId})});case 4:t=this.state.activeMeasurements.filter(function(e){return e.type===n.state.type}),console.log("mez",t),this.handleMeasurements(t),console.log("props:",this.state.type);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getAnonId",value:function(){return this.state.patient?i.a.createElement("h3",null,this.state.patient):i.a.createElement("h5",null,"Loading Patient...")}},{key:"inputRender",value:function(){var e=this;return this.state.abi_before?i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")},value:this.state.abi_before}))):i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")}})))}},{key:"renderHeader",value:function(){return this.state.patient?i.a.createElement(a.Fragment,null,i.a.createElement(_.a,{to:"/pad-stat-track/",className:"ui button"},i.a.createElement("i",{className:"icon chevron left"}),"Return to List"),i.a.createElement("div",{className:"ui small center aligned header",style:{margin:0}},"Patient: ",this.getAnonId())):i.a.createElement("div",{className:"ui active dimmer inverted",style:{width:"auto",margin:"0 50%",height:"10vh",background:"rgba(0,0,0,0)"}},i.a.createElement("div",{className:"ui text loader"}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ui container"},i.a.createElement("div",{className:"ui block header",style:{height:"10vh",display:"flex",justifyContent:"space-around",alignItems:"center"}},this.renderHeader()),i.a.createElement("form",{className:"ui form",onSubmit:this.onSubmission},i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Patient ID",i.a.createElement("input",{type:"text",disabled:!0,value:this.state.patient,onChange:this.onChange}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (Before)",i.a.createElement("input",{type:"number",onChange:function(t){return e.onChange(t,"abi_before")},defaultValue:this.state.abi_before}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"ABI (After)",i.a.createElement("input",{defaultValue:this.state.abi_after,type:"number",onChange:function(t){e.onChange(t,"abi_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS (Before)",i.a.createElement("input",{defaultValue:this.state.nirs_before,type:"number",onChange:function(t){e.onChange(t,"nirs_before")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS (After)",i.a.createElement("input",{type:"number",defaultValue:this.state.nirs_after,onChange:function(t){e.onChange(t,"nirs_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Endothelium Dependent FMD",i.a.createElement("input",{defaultValue:this.state.endo_de,type:"number",onChange:function(t){e.onChange(t,"endo_de")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Endothelium Independent FMD",i.a.createElement("input",{defaultValue:this.state.endo_in,type:"number",onChange:function(t){e.onChange(t,"endo_in")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS Gastroc Soleus (Before)",i.a.createElement("input",{defaultValue:this.state.nirs_gastroc_before,type:"number",onChange:function(t){e.onChange(t,"nirs_gastroc_before")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"NIRS Gastroc Soleus (After)",i.a.createElement("input",{defaultValue:this.state.nirs_gastroc_after,type:"number",onChange:function(t){e.onChange(t,"nirs_gastroc_after")}}))),i.a.createElement("br",null),i.a.createElement("div",{className:"ui input field large form-input"},i.a.createElement("label",null,"Notes",i.a.createElement("input",{defaultValue:this.state.notes,type:"text",onChange:function(t){e.onChange(t,"notes")}}))),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.onSubmission,className:"ui button large primary",style:{marginBottom:"2rem"}},"Save and Return")))}}]),t}(a.Component)),M=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){n.setState({patient:e.target.value},function(){return console.log(n.state.patient)})},n.onSubmission=function(e){e.preventDefault(),b.API.graphql(Object(b.graphqlOperation)(I,{input:{anonId:n.state.patient}})).then(function(e){console.log(e)}).catch(function(e){console.log(e)}),f.push("/pad-stat-track/")},n.state={loading:!1,patient:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"ui raised very padded text container segment",style:{height:"40vh",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",marginTop:"2rem"}},i.a.createElement("form",{onSubmit:this.onSubmission,className:"ui form"},i.a.createElement("div",{className:"ui input field huge"},i.a.createElement("label",null,"Patient Name",i.a.createElement("input",{type:"text",onChange:function(t){return e.onChange(t)}})))),i.a.createElement("div",{className:"ui two column grid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement("button",{onClick:function(){return f.push("/pad-stat-track/")},className:"ui button huge"},"Discard")),i.a.createElement("div",{className:"column"},i.a.createElement("button",{onClick:this.onSubmission,className:"ui button huge green"},"Submit")))))}}]),t}(a.Component),A=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onPatientSelect=function(e){n.setState({selectedPatient:e.target.innerText,id:e.target.id},function(){console.log(n.state);var e=n.state.patients.filter(function(e){return e.anonId===n.state.selectedPatient});E()({title:"Delete "+n.state.selectedPatient+"?",text:"This cannot be undone.",icon:"warning",buttons:{danger:"Yes",cancel:"No"},dangerMode:!0}).then(function(t){t&&(E()("Patient record deleted!",{icon:"success"}),b.API.graphql(Object(b.graphqlOperation)(j,{input:{id:e[0].id}})).then(function(e){return console.log("res",e)}).catch(function(e){return console.log("err",e)}),b.API.graphql(Object(b.graphqlOperation)(S,{input:{id:n.state.selectedPatient}})).then(function(e){return console.log("res",e)}).catch(function(e){return console.log("err",e)}),f.push("/pad-stat-track/"))})})},n.state={loading:!1,patients:[],selectedPatient:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),b.API.graphql(Object(b.graphqlOperation)(h)).then(function(t){e.setState({patients:t.data.listPatients.items}),console.log(e.state.patients)})}},{key:"renderRemovePatient",value:function(){var e=this;return this.state.patients?this.state.patients.map(function(t){return i.a.createElement("div",{onClick:e.onPatientSelect,className:"item"},i.a.createElement("div",{style:{display:"flex",justifyContent:"space-around"},className:"header",key:t.id,id:t.id},t.anonId))}):i.a.createElement("div",{className:"ui segment",style:{height:"100vh"}},i.a.createElement("div",{className:"ui active inverted dimmer"},i.a.createElement("div",{className:"ui text loader"},"Loading...")))}},{key:"render",value:function(){return i.a.createElement("div",{style:{paddingTop:"2rem"}},i.a.createElement("div",{className:"ui"},i.a.createElement("div",{className:"ui header",style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},i.a.createElement(_.a,{to:"/pad-stat-track/",className:"ui button large"},i.a.createElement("i",{className:"icon chevron left"}),"Return to List"),i.a.createElement("h2",{style:{margin:0}},"Delete a Patient"))),i.a.createElement("div",{className:"ui middle aligned selection divided list massive"},this.renderRemovePatient()))}}]),t}(a.Component),q=n(157),$={aws_project_region:"us-east-1",aws_appsync_graphqlEndpoint:"https://za44xongffhsvep5zl6nrkox2m.appsync-api.us-east-1.amazonaws.com/graphql",aws_appsync_region:"us-east-1",aws_appsync_authenticationType:"API_KEY",aws_appsync_apiKey:"da2-cotuvc36rjb3rpizlkodgrghn4",aws_cognito_identity_pool_id:"us-east-1:800fa0c4-b6ec-4dba-81e5-e338445d7ede",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_NptgiYIhb",aws_user_pools_web_client_id:"11s0cuc6tauml1n1pf1rnt544e",oauth:{}};g.a.configure($);var D=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={activePatient:{},activeMeasurement:{}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(),i.a.createElement(m.b,{history:f},i.a.createElement("div",{className:"App"},i.a.createElement(m.a,{path:"/pad-stat-track/",exact:!0,component:y}),i.a.createElement(m.a,{path:"/pad-stat-track/form/:id/:type",component:w}),i.a.createElement(m.a,{path:"/pad-stat-track/create",component:M}),i.a.createElement(m.a,{path:"/pad-stat-track/remove",component:A})))}}]),t}(a.Component),T=Object(q.withAuthenticator)(D,{includeGreetings:!0});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},58:function(e,t){}},[[158,1,2]]]);
//# sourceMappingURL=main.d5be345f.chunk.js.map